import pytest

from activity_1_2 import get_wikipedia_info


def test_pokemon_search():
    """
    Test search for 'pokemon' and validate title, description, and image URL.
    """
    result = get_wikipedia_info("pokemon")
    assert "Pokémon" in result['title'], f"Expected 'Pokémon' in title, got: {result['title']}"
    assert "media franchise" in result['description'], f"Expected 'media franchise' in description, got: {result['description']}"
    assert result['image_url'].startswith("https://"), f"Expected image URL to start with 'https://', got: {result['image_url']}"


def test_mario_search():
    """
    Test search for 'mario' and validate title, description, and image URL.
    """
    result = get_wikipedia_info("mario")
    assert "Mario" in result['title'], f"Expected 'Mario' in title, got: {result['title']}"
    assert any(term in result['description'] for term in ["video game", "Nintendo"]), f"Expected 'video game' or 'Nintendo' in description, got: {result['description']}"
    assert result['image_url'].startswith("https://"), f"Expected image URL to start with 'https://', got: {result['image_url']}"


def test_warcraft_search():
    """
    Test search for 'warcraft' and validate title, description, and image URL.
    """
    result = get_wikipedia_info("warcraft")
    assert "Warcraft" in result['title'], f"Expected 'Warcraft' in title, got: {result['title']}"
    assert any(term in result['description'] for term in ["video game", "Blizzard"]), f"Expected 'video game' or 'Blizzard' in description, got: {result['description']}"
    assert result['image_url'].startswith("https://"), f"Expected image URL to start with 'https://', got: {result['image_url']}"


def test_zelda_search():
    """
    Test search for 'zelda' and validate title, description, and image URL.
    """
    result = get_wikipedia_info("legend of zelda")
    assert "Zelda" in result['title'], f"Expected 'Zelda' in title, got: {result['title']}"
    assert any(term in result['description'] for term in ["video game", "Nintendo"]), f"Expected 'video game' or 'Nintendo' in description, got: {result['description']}"
    assert result['image_url'].startswith("https://"), f"Expected image URL to start with 'https://', got: {result['image_url']}"

if __name__ == "__main__":
    pytest.main(['-v', __file__])